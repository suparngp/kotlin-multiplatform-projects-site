(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{219:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),s("p",[s("code",[t._v("suparnatural-graphql")]),t._v(" is a strongly-typed GraphQL client for "),s("code",[t._v("Android")]),t._v(", "),s("code",[t._v("iOS")]),t._v(" and "),s("code",[t._v("JVM")]),t._v(" applications written in "),s("a",{attrs:{href:""}},[t._v("Kotlin Multiplatform")]),t._v(". It generates type safe model classes from operations so that you don't have to deal with parsing JSON or raw data structures.")]),t._v(" "),s("p",[t._v("For example, the following query")]),t._v(" "),s("div",{staticClass:"language-graphql line-numbers-mode"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Write your query or mutation here")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("query")]),t._v(" CountryCodeQuery"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$code")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  country"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("code")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$code")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    __typename\n    code\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token fragment function"}},[t._v("CountryDetails")]),t._v("\n    continent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token fragment function"}},[t._v("ContinentDetails")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fragment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token fragment function"}},[t._v("ContinentDetails")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Continent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name\n  countries "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token fragment function"}},[t._v("CountryDetails")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fragment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token fragment function"}},[t._v("CountryDetails")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Country")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br")])]),s("p",[t._v("can be used as")]),t._v(" "),s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" operation "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Operations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CountryCodeQuery")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AD"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nclient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("operation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("when")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("it"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" Result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Success "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("it"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("country"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("it"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("country"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fragments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("continentDetails"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("it"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("country"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fragments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("continentDetails"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("countries"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fragments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("countryDetails"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h2",{attrs:{id:"motivation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#motivation"}},[t._v("#")]),t._v(" Motivation")]),t._v(" "),s("p",[s("code",[t._v("GraphQL")]),t._v(" provides a powerful and flexible way of fetching data from your server. The exact structure of a query response is known ahead of time as the expected\nfields are a part of the query and the field types are defined in the "),s("code",[t._v("schema")]),t._v(". However, rich API data models can be complex and are hard to manage on a client\nwithout type safety. For example, without strict types, you may end up parsing a JSON into a map and then access the values without any type checking. This is\nboth very risky and not developer friendly. This is not a new problem as far as APIs are concerned and there are many solutions which solve such a problem elegantly\nby generating a strictly typed data model and then mapping a raw "),s("code",[t._v("JSON")]),t._v(" response over to that model.")]),t._v(" "),s("p",[t._v("Next, a common pattern found across many API clients is to bundle a network transport in the library. It is a good way to get started. However, it becomes\nvery limiting if you are building complex applications which require features like "),s("code",[t._v("Certificate Pinning")]),t._v(" where you must control the transport layer of API call stack.\nAnother downside of such an approach is that your application may even end up with two clients for making network requests where one takes care of "),s("code",[t._v("GraphQL")]),t._v(" and another\nclient like "),s("code",[t._v("Alamofire")]),t._v(" or "),s("code",[t._v("OkHttp")]),t._v(" which deal with other "),s("code",[t._v("REST")]),t._v(" endpoints ("),s("code",[t._v("OAuth")]),t._v(" for example). And, they both may not even have the same level of customization.\nOf course it is a personal opinion whether you consider it as a good or a bad thing.")]),t._v(" "),s("p",[s("code",[t._v("suparnatural-graphql")]),t._v(" aims to solve these problems. It generates strictly type safe "),s("code",[t._v("Kotlin")]),t._v(" classes by deriving information from the "),s("code",[t._v("GraphQL")]),t._v(" schema and the operations used in the client application. It uses "),s("a",{attrs:{href:""}},[t._v("kotlinx.serialization")]),t._v(" to parse "),s("code",[t._v("JSON")]),t._v(". You are also free to implement your own network transport however way you see fit.")]),t._v(" "),s("h2",{attrs:{id:"features"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#features"}},[t._v("#")]),t._v(" Features")]),t._v(" "),s("ol",[s("li",[t._v("Generates strictly typed classes for all your "),s("code",[t._v("GraphQL")]),t._v(" operations.")]),t._v(" "),s("li",[t._v("Build reusable steps to process an operation before it goes over the wire by using a "),s("code",[t._v("chain")]),t._v(" of "),s("code",[t._v("Link")]),t._v(" instances.")]),t._v(" "),s("li",[t._v("Use your own transport to make network requests. For example, use multiplatform client like "),s("a",{attrs:{href:""}},[t._v("ktor-client")]),t._v(" or a native client like "),s("a",{attrs:{href:""}},[t._v("Alamofire")]),t._v(" and "),s("a",{attrs:{href:""}},[t._v("OkHttp")]),t._v(".")]),t._v(" "),s("li",[t._v("Customize / Extend default implementations of various parts of the library.")])]),t._v(" "),s("h2",{attrs:{id:"components"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#components"}},[t._v("#")]),t._v(" Components")]),t._v(" "),s("p",[s("code",[t._v("suparnatural-graphql")]),t._v(" is comprised of two parts and "),s("strong",[t._v("cannot")]),t._v(" be used without each other.")]),t._v(" "),s("ol",[s("li",[t._v("A "),s("code",[t._v("Gradle plugin")]),t._v(" which generates strictly typed model classes from "),s("code",[t._v("GraphQL")]),t._v(" operations.")]),t._v(" "),s("li",[t._v("A client library which provides API and implementations for "),s("code",[t._v("GraphQL")]),t._v(" client, "),s("code",[t._v("Link")]),t._v(" and other things.")])]),t._v(" "),s("h2",{attrs:{id:"limitations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#limitations"}},[t._v("#")]),t._v(" Limitations")]),t._v(" "),s("p",[s("strong",[t._v("Inline Fragments")]),t._v(" and "),s("strong",[t._v("conditional fields")]),t._v(" are not yet supported as far as type generation is concerned.")]),t._v(" "),s("p",[t._v("Currently, "),s("strong",[t._v("only query operations are supported")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"inspiration-credits"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inspiration-credits"}},[t._v("#")]),t._v(" Inspiration & Credits")]),t._v(" "),s("p",[t._v("This library is very much inspired by "),s("a",{attrs:{href:"https://www.apollographql.com/docs/ios/",target:"_blank",rel:"noopener noreferrer"}},[t._v("apollo-ios"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://www.apollographql.com/docs/link/",target:"_blank",rel:"noopener noreferrer"}},[t._v("apollo-link"),s("OutboundLink")],1),t._v(" by "),s("a",{attrs:{href:""}},[t._v("Apollo GraphQL team")]),t._v(". In many\nways, it tries to achieve the same level of parity with the mentioned packages. For example,\nThe gradle plugin uses the script from build phases of "),s("a",{attrs:{href:"https://www.apollographql.com/docs/ios/",target:"_blank",rel:"noopener noreferrer"}},[t._v("apollo-ios"),s("OutboundLink")],1),t._v(" and also uses the same "),s("a",{attrs:{href:"https://github.com/apollographql/apollo-tooling",target:"_blank",rel:"noopener noreferrer"}},[t._v("apollo-tooling"),s("OutboundLink")],1),t._v(" to pull "),s("code",[t._v("schema")]),t._v(" and generate an intermediate "),s("code",[t._v("JSON")]),t._v(" structure which can then be translated to type safe classes.")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/Kotlin/kotlinx.serialization",target:"_blank",rel:"noopener noreferrer"}},[t._v("kotlinx.serialization"),s("OutboundLink")],1),t._v(" is also used to deserialize\nraw data into strict types.")])])}),[],!1,null,null,null);a.default=e.exports}}]);