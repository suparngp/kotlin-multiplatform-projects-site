<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Introduction | Suparnatural Kotlin Multiplatform</title>
    <meta name="description" content="Suparnatural Projects for Kotlin Multiplatform apps">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.9c3cde5b.css" as="style"><link rel="preload" href="/assets/js/app.ade18f6d.js" as="script"><link rel="preload" href="/assets/js/2.6d64a48b.js" as="script"><link rel="preload" href="/assets/js/11.260623ce.js" as="script"><link rel="prefetch" href="/assets/js/10.c8ab61d0.js"><link rel="prefetch" href="/assets/js/12.5fab1112.js"><link rel="prefetch" href="/assets/js/13.37140cfd.js"><link rel="prefetch" href="/assets/js/3.b94af3a5.js"><link rel="prefetch" href="/assets/js/4.d52a1680.js"><link rel="prefetch" href="/assets/js/5.5989c2b3.js"><link rel="prefetch" href="/assets/js/6.f7706dd1.js"><link rel="prefetch" href="/assets/js/7.2e807871.js"><link rel="prefetch" href="/assets/js/8.15ae6700.js"><link rel="prefetch" href="/assets/js/9.4f77bb8d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9c3cde5b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/logo.png" alt="Suparnatural Kotlin Multiplatform" class="logo"> <span class="site-name can-hide">Suparnatural Kotlin Multiplatform</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>suparnatural-graphql</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/graphql/" class="active sidebar-link">Introduction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/graphql/#motivation" class="sidebar-link">Motivation</a></li><li class="sidebar-sub-header"><a href="/graphql/#features" class="sidebar-link">Features</a></li><li class="sidebar-sub-header"><a href="/graphql/#components" class="sidebar-link">Components</a></li><li class="sidebar-sub-header"><a href="/graphql/#limitations" class="sidebar-link">Limitations</a></li><li class="sidebar-sub-header"><a href="/graphql/#inspiration-credits" class="sidebar-link">Inspiration &amp; Credits</a></li></ul></li><li><a href="/graphql/installation.html" class="sidebar-link">Installation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/graphql/installation.html#kotlinx-serialization" class="sidebar-link">Kotlinx Serialization</a></li><li class="sidebar-sub-header"><a href="/graphql/installation.html#apply-gradle-plugin" class="sidebar-link">Apply Gradle Plugin</a></li><li class="sidebar-sub-header"><a href="/graphql/installation.html#configure-gradle-plugin" class="sidebar-link">Configure Gradle Plugin</a></li><li class="sidebar-sub-header"><a href="/graphql/installation.html#add-library" class="sidebar-link">Add Library</a></li><li class="sidebar-sub-header"><a href="/graphql/installation.html#rx-runtime" class="sidebar-link">RX Runtime</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/graphql/installation.html#custom-rx-runtime" class="sidebar-link">Custom RX Runtime</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Concepts</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/graphql/concepts.html" class="sidebar-link">Overview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/graphql/concepts.html#architecture" class="sidebar-link">Architecture</a></li><li class="sidebar-sub-header"><a href="/graphql/concepts.html#operation" class="sidebar-link">Operation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/graphql/concepts.html#operation-context" class="sidebar-link">Operation Context</a></li></ul></li><li class="sidebar-sub-header"><a href="/graphql/concepts.html#fetcher" class="sidebar-link">Fetcher</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/graphql/concepts.html#ktor-fetcher" class="sidebar-link">Ktor Fetcher</a></li><li class="sidebar-sub-header"><a href="/graphql/concepts.html#okhttp-fetcher" class="sidebar-link">OkHttp Fetcher</a></li><li class="sidebar-sub-header"><a href="/graphql/concepts.html#nsurlsession-fetcher" class="sidebar-link">NSURLSession Fetcher</a></li></ul></li><li class="sidebar-sub-header"><a href="/graphql/concepts.html#link" class="sidebar-link">Link</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/graphql/concepts.html#composition" class="sidebar-link">Composition</a></li><li class="sidebar-sub-header"><a href="/graphql/concepts.html#link-execution" class="sidebar-link">Link Execution</a></li><li class="sidebar-sub-header"><a href="/graphql/concepts.html#terminating-link" class="sidebar-link">Terminating Link</a></li></ul></li><li class="sidebar-sub-header"><a href="/graphql/concepts.html#client" class="sidebar-link">Client</a></li><li class="sidebar-sub-header"><a href="/graphql/concepts.html#example" class="sidebar-link">Example</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h1> <p><code>suparnatural-graphql</code> is a strongly-typed GraphQL client for <code>Android</code>, <code>iOS</code> and <code>JVM</code> applications written in <a href="">Kotlin Multiplatform</a>. It generates type safe model classes from operations so that you don't have to deal with parsing JSON or raw data structures.</p> <p>For example, the following query</p> <div class="language-graphql line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-graphql"><code><span class="token comment"># Write your query or mutation here</span>
<span class="token keyword">query</span> CountryCodeQuery<span class="token punctuation">(</span><span class="token variable">$code</span><span class="token punctuation">:</span> String<span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  country<span class="token punctuation">(</span><span class="token attr-name">code</span><span class="token punctuation">:</span> <span class="token variable">$code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    __typename
    code
    <span class="token operator">...</span><span class="token fragment function">CountryDetails</span>
    continent <span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token fragment function">ContinentDetails</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fragment</span> <span class="token fragment function">ContinentDetails</span> <span class="token keyword">on</span> <span class="token class-name">Continent</span> <span class="token punctuation">{</span>
  name
  countries <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token fragment function">CountryDetails</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fragment</span> <span class="token fragment function">CountryDetails</span> <span class="token keyword">on</span> <span class="token class-name">Country</span> <span class="token punctuation">{</span>
  name
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>can be used as</p> <div class="language-kotlin line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-kotlin"><code><span class="token keyword">val</span> operation <span class="token operator">=</span> Operations<span class="token punctuation">.</span><span class="token function">CountryCodeQuery</span><span class="token punctuation">(</span><span class="token string">&quot;AD&quot;</span><span class="token punctuation">)</span>
client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>operation<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span> <span class="token punctuation">{</span>
    <span class="token keyword">when</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">is</span> Result<span class="token punctuation">.</span>Success <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span>value<span class="token punctuation">.</span>data<span class="token operator">?</span><span class="token punctuation">.</span>country<span class="token operator">?</span><span class="token punctuation">.</span>code<span class="token punctuation">)</span>
            <span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span>value<span class="token punctuation">.</span>data<span class="token operator">?</span><span class="token punctuation">.</span>country<span class="token operator">?</span><span class="token punctuation">.</span>fragments<span class="token punctuation">.</span>continentDetails<span class="token punctuation">)</span>
            <span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span>value<span class="token punctuation">.</span>data<span class="token operator">?</span><span class="token punctuation">.</span>country<span class="token operator">?</span><span class="token punctuation">.</span>fragments<span class="token punctuation">.</span>continentDetails<span class="token operator">?</span><span class="token punctuation">.</span>countries<span class="token operator">?</span><span class="token punctuation">.</span>fragments<span class="token punctuation">.</span>countryDetails<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="motivation"><a href="#motivation" class="header-anchor">#</a> Motivation</h2> <p><code>GraphQL</code> provides a powerful and flexible way of fetching data from your server. The exact structure of a query response is known ahead of time as the expected
fields are a part of the query and the field types are defined in the <code>schema</code>. However, rich API data models can be complex and are hard to manage on a client
without type safety. For example, without strict types, you may end up parsing a JSON into a map and then access the values without any type checking. This is
both very risky and not developer friendly. This is not a new problem as far as APIs are concerned and there are many solutions which solve such a problem elegantly
by generating a strictly typed data model and then mapping a raw <code>JSON</code> response over to that model.</p> <p>Next, a common pattern found across many API clients is to bundle a network transport in the library. It is a good way to get started. However, it becomes
very limiting if you are building complex applications which require features like <code>Certificate Pinning</code> where you must control the transport layer of API call stack.
Another downside of such an approach is that your application may even end up with two clients for making network requests where one takes care of <code>GraphQL</code> and another
client like <code>Alamofire</code> or <code>OkHttp</code> which deal with other <code>REST</code> endpoints (<code>OAuth</code> for example). And, they both may not even have the same level of customization.
Of course it is a personal opinion whether you consider it as a good or a bad thing.</p> <p><code>suparnatural-graphql</code> aims to solve these problems. It generates strictly type safe <code>Kotlin</code> classes by deriving information from the <code>GraphQL</code> schema and the operations used in the client application. It uses <a href="">kotlinx.serialization</a> to parse <code>JSON</code>. You are also free to implement your own network transport however way you see fit.</p> <h2 id="features"><a href="#features" class="header-anchor">#</a> Features</h2> <ol><li>Generates strictly typed classes for all your <code>GraphQL</code> operations.</li> <li>Build reusable steps to process an operation before it goes over the wire by using a <code>chain</code> of <code>Link</code> instances.</li> <li>Use your own transport to make network requests. For example, use multiplatform client like <a href="">ktor-client</a> or a native client like <a href="">Alamofire</a> and <a href="">OkHttp</a>.</li> <li>Customize / Extend default implementations of various parts of the library.</li></ol> <h2 id="components"><a href="#components" class="header-anchor">#</a> Components</h2> <p><code>suparnatural-graphql</code> is comprised of two parts and <strong>cannot</strong> be used without each other.</p> <ol><li>A <code>Gradle plugin</code> which generates strictly typed model classes from <code>GraphQL</code> operations.</li> <li>A client library which provides API and implementations for <code>GraphQL</code> client, <code>Link</code> and other things.</li></ol> <h2 id="limitations"><a href="#limitations" class="header-anchor">#</a> Limitations</h2> <p><strong>Inline Fragments</strong> and <strong>conditional fields</strong> are not yet supported as far as type generation is concerned.</p> <p>Currently, <strong>only query operations are supported</strong>.</p> <h2 id="inspiration-credits"><a href="#inspiration-credits" class="header-anchor">#</a> Inspiration &amp; Credits</h2> <p>This library is very much inspired by <a href="https://www.apollographql.com/docs/ios/" target="_blank" rel="noopener noreferrer">apollo-ios<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://www.apollographql.com/docs/link/" target="_blank" rel="noopener noreferrer">apollo-link<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> by <a href="">Apollo GraphQL team</a>. In many
ways, it tries to achieve the same level of parity with the mentioned packages. For example,
The gradle plugin uses the script from build phases of <a href="https://www.apollographql.com/docs/ios/" target="_blank" rel="noopener noreferrer">apollo-ios<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and also uses the same <a href="https://github.com/apollographql/apollo-tooling" target="_blank" rel="noopener noreferrer">apollo-tooling<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to pull <code>schema</code> and generate an intermediate <code>JSON</code> structure which can then be translated to type safe classes.</p> <p><a href="https://github.com/Kotlin/kotlinx.serialization" target="_blank" rel="noopener noreferrer">kotlinx.serialization<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is also used to deserialize
raw data into strict types.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/graphql/installation.html">Installation</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ade18f6d.js" defer></script><script src="/assets/js/2.6d64a48b.js" defer></script><script src="/assets/js/11.260623ce.js" defer></script>
  </body>
</html>
